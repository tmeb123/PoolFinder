<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Pool Finder Diagnostics</title>
  <script src="https://tmeb123.github.io/PoolFinder/debug-main.js"></script>
  <style>
    body { font-family: "Segoe UI", sans-serif; font-size: 13px; padding: 20px; background: #f8f9fa; color: #212529; margin: 0; }
    h2 { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.06em; color: #0075C9; border-bottom: 2px solid #0075C9; padding-bottom: 4px; margin: 16px 0 8px; }
    pre { background: #1e1e1e; color: #d4d4d4; padding: 12px; border-radius: 5px; font-size: 11px; white-space: pre-wrap; word-break: break-all; max-height: 300px; overflow-y: auto; line-height: 1.6; font-family: Consolas, monospace; }
    .status { padding: 8px 12px; border-radius: 4px; margin-bottom: 8px; font-weight: 600; font-size: 12px; }
    .ok   { background: #e6f4ec; color: #1a7f4b; }
    .err  { background: #fdf0ee; color: #c0392b; }
    .info { background: #e8f4fd; color: #005a9e; }
    .warn { background: #fef3c7; color: #b45309; }
    button { background: #0075C9; color: white; border: none; padding: 7px 16px; border-radius: 4px; cursor: pointer; font-size: 12px; font-weight: 600; margin-right: 6px; margin-bottom: 6px; }
    button:hover { background: #005a9e; }
    button:disabled { background: #adb5bd; cursor: not-allowed; }
    .card { background: white; border: 1px solid #dee2e6; border-radius: 6px; padding: 14px; margin-bottom: 14px; }
  </style>
</head>
<body>
<div id="poolFinderDebug">
  <h1 style="font-size:17px;margin-bottom:4px">üîç Pool Finder ‚Äî API Diagnostics v5</h1>
  <p style="color:#868e96;margin-bottom:16px;font-size:12px">Validates Geotab API connection and data shapes.</p>

  <div class="card">
    <div id="api-status" class="status info">‚è≥ Waiting for MyGeotab initialize()...</div>
    <div style="margin-top:8px">
      <button onclick="pfDebug.runGroups()"  id="btn-groups"  disabled>1. Groups</button>
      <button onclick="pfDebug.runDevices()" id="btn-devices" disabled>2. Devices</button>
      <button onclick="pfDebug.runTrips()"   id="btn-trips"   disabled>3. Trips</button>
      <button onclick="pfDebug.runCounts()"  id="btn-counts"  disabled>4. Trip Counts</button>
      <button onclick="pfDebug.runAll()"     id="btn-all"     disabled>‚ñ∂ Run All</button>
    </div>
  </div>

  <div class="card">
    <h2>1. Groups</h2>
    <div id="groups-status" class="status info">Waiting...</div>
    <pre id="groups-out">‚Äî</pre>
  </div>

  <div class="card">
    <h2>2. Devices (first 10)</h2>
    <div id="devices-status" class="status info">Waiting...</div>
    <pre id="devices-out">‚Äî</pre>
  </div>

  <div class="card">
    <h2>3. Sample Trips</h2>
    <div id="trips-status" class="status info">Waiting...</div>
    <pre id="trips-out">‚Äî</pre>
  </div>

  <div class="card">
    <h2>4. Trip Counts (first 5 vehicles, last 90 days)</h2>
    <div id="counts-status" class="status info">Waiting...</div>
    <pre id="counts-out">‚Äî</pre>
  </div>
</div>
</body>
</html>
